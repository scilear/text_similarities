U.S. stocks ended a choppy session slightly higher on Friday, posting a third consecutive week of gains as investors appeared to shrug off lackluster corporate earnings and mixed economic data.

The S&P 500 SPX, +1.66% switched between small gains and losses, but managed to close higher, rising 9.21 points, or 0.5%, to 2,033.07, its highest finish since Aug. 20. The benchmark index gained 0.9% over the week, with most of the gains concentrated in defensive sectors such as utilities, health-care and telecoms.

The Dow Jones Industrial Average DJIA, +1.87% gained 74.09 points, or 0.4%, to settle at 17,215.84, and booked a 0.8% weekly gain. Nike, Inc. NKE, -0.05% and Exxon Mobil Corp XOM, +3.34% were the top gainers over the week, rising more than 4%. Wal-Mart Stores, Inc. WMT, +0.44% plunged 12% over the week, most of the losses coming after disappointing quarterly results.

The Nasdaq Composite COMP, +1.65% ended the day up 16.59 points, or 0.3%, at 4,886.69 and gained 1.2% over the week.

While stocks logged weekly gains, a measure of implied volatility on the S&P 500 dropped 11% this week. The CBOE Volatility Index VIX, -13.47% dropped to 15, well below long-term average of 20.

Robert Pavlik, chief market strategist at Boston Private Wealth LLC, credited some of the recent buying to short covering and a belief that Federal Reserve will refrain from hiking interest rates in the near future due to weakness in global growth and recent market turbulence.

The Fed-funds futures market is currently pricing in a 6% chance for a rate increase this month. Meanwhile, hawkish comments from the Fed officials seemed to have little impact on expectations. Late Thursday, Cleveland Fed President Loretta Mester said the U.S. economy “can handle” an increase in interest rates, despite the risks around its outlook.

Need to know: The ‘new normal’ for markets: Everything stinks

Friday’s economic data were mixed. Industrial production in September slipped 0.2%, in line with expectations. Meanwhile, consumer sentiment rose in October, the first increase in four months. Job openings dropped in August after reaching a record in the previous month, the Labor Department said Friday.

Reasons to doubt the gains: Even as major U.S. markets recovered much of the ground lost in August, doubts remained over whether those advances would prove durable.

“The rally over the past three weeks has been very narrow, as two-thirds of the stocks on the S&P 500 are still below the 200-day moving average,” said Peter Boockvar, managing director and chief market analyst at The Lindsey Group LLC.

“This suggest the bull market continues to lose soldiers. I think we peaked in May and what we saw over the past few weeks is a bear-market rally,” Boockvar said.

Wouter Sturkenboom, investment strategist at London-based Russell Investment, said he remains neutral on U.S. equities. He prefers European stocks, where Russell—which has $266 billion under management—has an overweight position. Sturkenboom said if the U.S. rally is going to extend beyond a bounceback from August’s oversold technical levels, then markets will have to find direction from earnings, economic data or comments from Federal Reserve officials.